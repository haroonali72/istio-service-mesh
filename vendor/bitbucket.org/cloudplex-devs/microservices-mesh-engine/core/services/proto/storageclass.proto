syntax = "proto3";

package proto;
import "service.proto";
service StorageClass {
    rpc CreateStorageClass (StorageClassService) returns (ServiceResponse) {}
    rpc GetStorageClass (StorageClassService) returns (ServiceResponse) {}
    rpc DeleteStorageClass (StorageClassService) returns (ServiceResponse) {}
    rpc PatchStorageClass (StorageClassService) returns (ServiceResponse) {}
    rpc PutStorageClass (StorageClassService) returns (ServiceResponse) {}
}
message StorageClassService {
    string project_id = 1;
    string service_id = 2;
    string name = 3;
    string version = 4;
    string service_type = 5;
    string service_sub_type = 6;
    string token = 7;
    string company_id = 8;
    StorageClassAttributes service_attributes = 9;
}
message StorageClassServiceResponse {
    string error = 1;
    StorageClassService resp = 2;
}

message StorageClassAttributes{
    VolumeBindingMode volume_binding_mode =1;
    string allow_volume_expansion  =2;
    string  provisioner =3;
    Parameters sc_parameters =4;
    ReclaimPolicy reclaim_policy =5;
    repeated string mount_options=6;
    repeated TopologySelectorTerm allowed_topologies=7;
}
message  TopologySelectorTerm{
   repeated TopologySelectorLabelRequirement match_label_expressions=1;
}
message TopologySelectorLabelRequirement{
    string key=1;
    repeated string values=2;
}
enum VolumeBindingMode{
    Immediate=0;
    WaitForFirstConsumer=1;
}

enum ReclaimPolicy{
    Retain=0;
    Delete=1;
}

message Parameters{
    map<string,string>  gcp_pd_sc_parm    =1;
    map<string,string>  aws_ebs_sc_parm    =2;
    map<string,string>  azure_disk_sc_parm    =3;
    map<string,string>  azure_file_sc_parm  =4;
}